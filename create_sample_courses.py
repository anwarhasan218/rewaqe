#!/usr/bin/env python
"""
ุฅูุดุงุก ููุงุฏ ุชุฌุฑูุจูุฉ ูุงุฎุชุจุงุฑ ุงููุธุงู
"""
import os
import sys
import django

# ุฅุนุฏุงุฏ Django
os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'azhar_student_management.settings')
django.setup()

from students.models import Stage, Level, Course

def create_sample_courses():
    """ุฅูุดุงุก ููุงุฏ ุชุฌุฑูุจูุฉ ููู ูุณุชูู"""
    
    print("๐ ุจุฏุก ุฅูุดุงุก ุงูููุงุฏ ุงูุชุฌุฑูุจูุฉ...")
    
    # ููุงุฏ ุงููุฑุญูุฉ ุงูุชูููุฏูุฉ
    tamheediya_courses = [
        'ุงููุฑุขู ุงููุฑูู',
        'ุงูุชุฌููุฏ',
        'ุงูุนููุฏุฉ ุงูุฅุณูุงููุฉ',
        'ุงูููู ุงูุฅุณูุงูู',
        'ุงูุณูุฑุฉ ุงููุจููุฉ',
        'ุงููุบุฉ ุงูุนุฑุจูุฉ',
        'ุงูุฎุท ุงูุนุฑุจู'
    ]
    
    # ููุงุฏ ุงููุฑุญูุฉ ุงููุชูุณุทุฉ
    mutawassita_courses = [
        'ุงููุฑุขู ุงููุฑูู ูุนูููู',
        'ุงูุชูุณูุฑ',
        'ุงูุญุฏูุซ ุงูุดุฑูู',
        'ุงูููู ูุฃุตููู',
        'ุงูุนููุฏุฉ ูุงูุฃุฎูุงู',
        'ุงููุญู ูุงูุตุฑู',
        'ุงูุจูุงุบุฉ ูุงูุฃุฏุจ',
        'ุงูุชุงุฑูุฎ ุงูุฅุณูุงูู'
    ]
    
    # ููุงุฏ ุงูุชุฎุตุตุงุช
    fiqh_courses = [
        'ุงูููู ุงูููุงุฑู',
        'ุฃุตูู ุงูููู',
        'ุงูููุงุนุฏ ุงูููููุฉ',
        'ููู ุงูููุงุฒู',
        'ุงููุนุงููุงุช ุงููุงููุฉ',
        'ููู ุงูุฃุณุฑุฉ',
        'ุงูููู ุงูุณูุงุณู'
    ]
    
    tafseer_courses = [
        'ุงูุชูุณูุฑ ุงูุชุญูููู',
        'ุนููู ุงููุฑุขู',
        'ุงูุญุฏูุซ ูุนูููู',
        'ูุตุทูุญ ุงูุญุฏูุซ',
        'ุดุฑูุญ ุงูุฃุญุงุฏูุซ',
        'ุงูุฌุฑุญ ูุงูุชุนุฏูู',
        'ุงูุณูุฉ ุงููุจููุฉ'
    ]
    
    arabic_courses = [
        'ุงููุญู ุงููุชูุฏู',
        'ุงูุตุฑู ุงููุชูุฏู',
        'ุงูุจูุงุบุฉ ุงูุนุฑุจูุฉ',
        'ุงูุฃุฏุจ ุงูุนุฑุจู',
        'ููู ุงููุบุฉ',
        'ุงูุนุฑูุถ ูุงูููุงูู',
        'ุงูููุฏ ุงูุฃุฏุจู'
    ]
    
    aqeedah_courses = [
        'ุงูุนููุฏุฉ ุงูุฅุณูุงููุฉ',
        'ุนูู ุงูููุงู',
        'ุงููุฑู ูุงููุฐุงูุจ',
        'ุงูููุณูุฉ ุงูุฅุณูุงููุฉ',
        'ููุงุฑูุฉ ุงูุฃุฏูุงู',
        'ุงูุฑุฏ ุนูู ุงูุดุจูุงุช',
        'ุงูุชุตูู ุงูุฅุณูุงูู'
    ]
    
    # ููุงุฏ ุงูุดุนุจุฉ ุงูุนุงูุฉ ุงููุชูุฏูุฉ
    general_courses = [
        'ุงูุซูุงูุฉ ุงูุฅุณูุงููุฉ',
        'ุงูุฏุนูุฉ ูุงูุฅุฑุดุงุฏ',
        'ุงูุฅุฏุงุฑุฉ ุงูุฅุณูุงููุฉ',
        'ุงูุงูุชุตุงุฏ ุงูุฅุณูุงูู',
        'ุงููุงููู ุงูุฅุณูุงูู',
        'ุงูุชุฑุจูุฉ ุงูุฅุณูุงููุฉ',
        'ุงูุฅุนูุงู ุงูุฅุณูุงูู'
    ]
    
    # ุฑุจุท ุงูููุงุฏ ุจุงููุฑุงุญู
    stage_courses_map = {
        'ุชูููุฏูุฉ': tamheediya_courses,
        'ูุชูุณุทุฉ': mutawassita_courses,
        'ุชุฎุตุตูุฉ ููู ูุงุตููู': fiqh_courses,
        'ุชุฎุตุตูุฉ ุชูุณูุฑ ูุญุฏูุซ': tafseer_courses,
        'ุชุฎุตุตูุฉ ูุบุฉ ุนุฑุจูุฉ': arabic_courses,
        'ุชุฎุตุตูุฉ ุนููุฏุฉ': aqeedah_courses,
        'ุดุนุจุฉ ุนุงูุฉ ูุชูุฏูุฉ': general_courses,
    }
    
    created_count = 0
    
    for stage in Stage.objects.all():
        stage_name = stage.name
        courses_list = stage_courses_map.get(stage_name, [])
        
        print(f"\n๐ ุฅูุดุงุก ููุงุฏ ูููุฑุญูุฉ: {stage_name}")
        
        for level in stage.level_set.all():
            print(f"  ๐ ุงููุณุชูู: {level.name}")
            
            # ุฅูุดุงุก ููุงุฏ ููุฐุง ุงููุณุชูู
            for i, course_name in enumerate(courses_list):
                # ุชูุฒูุน ุงูููุงุฏ ุนูู ุงููุณุชููุงุช
                if stage_name in ['ุชูููุฏูุฉ', 'ูุชูุณุทุฉ']:
                    # ูููุฑุงุญู ุงูุชูููุฏูุฉ ูุงููุชูุณุทุฉุ ูุถุน ูุตู ุงูููุงุฏ ูู ูู ูุณุชูู
                    if level.name == 'ุงููุณุชูู ุงูุฃูู' and i < len(courses_list) // 2:
                        pass  # ุฅูุดุงุก ุงููุงุฏุฉ
                    elif level.name == 'ุงููุณุชูู ุงูุซุงูู' and i >= len(courses_list) // 2:
                        pass  # ุฅูุดุงุก ุงููุงุฏุฉ
                    else:
                        continue
                else:
                    # ูููุฑุงุญู ุงูุชุฎุตุตูุฉุ ููุฒุน ุงูููุงุฏ ุนูู ุงูุฃุฑุจุน ูุณุชููุงุช
                    courses_per_level = len(courses_list) // 4
                    level_index = ['ุงููุณุชูู ุงูุฃูู', 'ุงููุณุชูู ุงูุซุงูู', 'ุงููุณุชูู ุงูุซุงูุซ', 'ุงููุณุชูู ุงูุฑุงุจุน'].index(level.name)
                    start_index = level_index * courses_per_level
                    end_index = start_index + courses_per_level
                    
                    if level_index == 3:  # ุงููุณุชูู ุงูุฑุงุจุน ูุฃุฎุฐ ุงูููุงุฏ ุงููุชุจููุฉ
                        end_index = len(courses_list)
                    
                    if not (start_index <= i < end_index):
                        continue
                
                # ุฅูุดุงุก ุงููุงุฏุฉ
                course, created = Course.objects.get_or_create(
                    name=course_name,
                    level=level,
                    defaults={
                        'max_score': 100,
                        'pass_score': 50
                    }
                )
                
                if created:
                    created_count += 1
                    print(f"    โ ุชู ุฅูุดุงุก ุงููุงุฏุฉ: {course_name}")
                else:
                    print(f"    ๐ ุงููุงุฏุฉ ููุฌูุฏุฉ: {course_name}")
    
    print(f"\n๐ ุชู ุงูุงูุชูุงุก ูู ุฅูุดุงุก {created_count} ูุงุฏุฉ ุฌุฏูุฏุฉ!")
    
    # ุนุฑุถ ููุฎุต
    print("\n๐ ููุฎุต ุงูููุงุฏ:")
    for stage in Stage.objects.all():
        for level in stage.level_set.all():
            courses_count = level.courses.count()
            print(f"  {stage.name} - {level.name}: {courses_count} ูุงุฏุฉ")

if __name__ == '__main__':
    create_sample_courses()
