#!/usr/bin/env python
"""
ุฅุนุฏุงุฏ ุงููุฑุงุญู ูุงููุณุชููุงุช ุงูุฃุณุงุณูุฉ ููุธุงู ุฑูุงู ุงูุนููู ุงูุดุฑุนูุฉ ูุงูุนุฑุจูุฉ
"""
import os
import sys
import django

# ุฅุนุฏุงุฏ Django
os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'azhar_student_management.settings')
django.setup()

from students.models import Stage, Level

def setup_stages_and_levels():
    """ุฅูุดุงุก ุงููุฑุงุญู ูุงููุณุชููุงุช ุงูุฃุณุงุณูุฉ"""
    
    # ุชุนุฑูู ุงููุฑุงุญู ูุงููุณุชููุงุช ุงููุทููุจุฉ
    stages_levels = {
        'ุชูููุฏูุฉ': ['ุงููุณุชูู ุงูุฃูู', 'ุงููุณุชูู ุงูุซุงูู'],
        'ูุชูุณุทุฉ': ['ุงููุณุชูู ุงูุฃูู', 'ุงููุณุชูู ุงูุซุงูู'],
        'ุชุฎุตุตูุฉ ููู ูุงุตููู': ['ุงููุณุชูู ุงูุฃูู', 'ุงููุณุชูู ุงูุซุงูู', 'ุงููุณุชูู ุงูุซุงูุซ', 'ุงููุณุชูู ุงูุฑุงุจุน'],
        'ุชุฎุตุตูุฉ ุชูุณูุฑ ูุญุฏูุซ': ['ุงููุณุชูู ุงูุฃูู', 'ุงููุณุชูู ุงูุซุงูู', 'ุงููุณุชูู ุงูุซุงูุซ', 'ุงููุณุชูู ุงูุฑุงุจุน'],
        'ุชุฎุตุตูุฉ ูุบุฉ ุนุฑุจูุฉ': ['ุงููุณุชูู ุงูุฃูู', 'ุงููุณุชูู ุงูุซุงูู', 'ุงููุณุชูู ุงูุซุงูุซ', 'ุงููุณุชูู ุงูุฑุงุจุน'],
        'ุชุฎุตุตูุฉ ุนููุฏุฉ': ['ุงููุณุชูู ุงูุฃูู', 'ุงููุณุชูู ุงูุซุงูู', 'ุงููุณุชูู ุงูุซุงูุซ', 'ุงููุณุชูู ุงูุฑุงุจุน'],
        'ุดุนุจุฉ ุนุงูุฉ ูุชูุฏูุฉ': ['ุงููุณุชูู ุงูุฃูู', 'ุงููุณุชูู ุงูุซุงูู', 'ุงููุณุชูู ุงูุซุงูุซ', 'ุงููุณุชูู ุงูุฑุงุจุน'],
    }
    
    print("ุจุฏุก ุฅุนุฏุงุฏ ุงููุฑุงุญู ูุงููุณุชููุงุช...")
    
    for stage_name, levels in stages_levels.items():
        # ุฅูุดุงุก ุฃู ุงูุญุตูู ุนูู ุงููุฑุญูุฉ
        stage, created = Stage.objects.get_or_create(name=stage_name)
        if created:
            print(f"โ ุชู ุฅูุดุงุก ุงููุฑุญูุฉ: {stage_name}")
        else:
            print(f"๐ ุงููุฑุญูุฉ ููุฌูุฏุฉ ุจุงููุนู: {stage_name}")
        
        # ุฅูุดุงุก ุงููุณุชููุงุช ููุฐู ุงููุฑุญูุฉ
        for level_name in levels:
            level, created = Level.objects.get_or_create(
                stage=stage,
                name=level_name
            )
            if created:
                print(f"  โ ุชู ุฅูุดุงุก ุงููุณุชูู: {level_name}")
            else:
                print(f"  ๐ ุงููุณุชูู ููุฌูุฏ ุจุงููุนู: {level_name}")
    
    print("\n๐ ุชู ุงูุงูุชูุงุก ูู ุฅุนุฏุงุฏ ุฌููุน ุงููุฑุงุญู ูุงููุณุชููุงุช!")
    
    # ุนุฑุถ ููุฎุต
    print("\n๐ ููุฎุต ุงููุธุงู:")
    for stage in Stage.objects.all():
        levels_count = stage.level_set.count()
        print(f"  {stage.name}: {levels_count} ูุณุชูู")

if __name__ == '__main__':
    setup_stages_and_levels()
